{
  "version": 3,
  "sources": ["../../three/examples/jsm/webxr/VRButton.js"],
  "sourcesContent": ["/**\n * @author mrdoob / http://mrdoob.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nvar VRButton = {\n\n\tcreateButton: function ( renderer, options ) {\n\n\t\tif ( options && options.referenceSpaceType ) {\n\n\t\t\trenderer.vr.setReferenceSpaceType( options.referenceSpaceType );\n\n\t\t}\n\n\t\tfunction showEnterVR( device ) {\n\n\t\t\tbutton.style.display = '';\n\n\t\t\tbutton.style.cursor = 'pointer';\n\t\t\tbutton.style.left = 'calc(50% - 50px)';\n\t\t\tbutton.style.width = '100px';\n\n\t\t\tbutton.textContent = 'ENTER_VR';\n\n\t\t\tbutton.onmouseenter = function () {\n\n\t\t\t\tbutton.style.opacity = '1.0';\n\n\t\t\t};\n\n\t\t\tbutton.onmouseleave = function () {\n\n\t\t\t\tbutton.style.opacity = '0.5';\n\n\t\t\t};\n\n\t\t\tbutton.onclick = function () {\n\n\t\t\t\tdevice.isPresenting ? device.exitPresent() : device.requestPresent( [ { source: renderer.domElement } ] );\n\n\t\t\t};\n\n\t\t\trenderer.vr.setDevice( device );\n\n\t\t}\n\n\t\tfunction showEnterXR( /*device*/ ) {\n\n\t\t\tvar currentSession = null;\n\n\t\t\tfunction onSessionStarted( session ) {\n\n\t\t\t\tsession.addEventListener( 'end', onSessionEnded );\n\n\t\t\t\trenderer.vr.setSession( session );\n\t\t\t\tbutton.textContent = 'EXIT VR';\n\n\t\t\t\tcurrentSession = session;\n\n\t\t\t}\n\n\t\t\tfunction onSessionEnded( /*event*/ ) {\n\n\t\t\t\tcurrentSession.removeEventListener( 'end', onSessionEnded );\n\n\t\t\t\trenderer.vr.setSession( null );\n\t\t\t\tbutton.textContent = 'ENTER VR';\n\n\t\t\t\tcurrentSession = null;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tbutton.style.display = '';\n\n\t\t\tbutton.style.cursor = 'pointer';\n\t\t\tbutton.style.left = 'calc(50% - 50px)';\n\t\t\tbutton.style.width = '100px';\n\n\t\t\tbutton.textContent = 'ENTER VR';\n\n\t\t\tbutton.onmouseenter = function () {\n\n\t\t\t\tbutton.style.opacity = '1.0';\n\n\t\t\t};\n\n\t\t\tbutton.onmouseleave = function () {\n\n\t\t\t\tbutton.style.opacity = '0.5';\n\n\t\t\t};\n\n\t\t\tbutton.onclick = function () {\n\n\t\t\t\tif ( currentSession === null ) {\n\n\t\t\t\t\t// WebXR's requestReferenceSpace only works if the corresponding feature\n\t\t\t\t\t// was requested at session creation time. For simplicity, just ask for\n\t\t\t\t\t// the interesting ones as optional features, but be aware that the\n\t\t\t\t\t// requestReferenceSpace call will fail if it turns out to be unavailable.\n\t\t\t\t\t// ('local' is always available for immersive sessions and doesn't need to\n\t\t\t\t\t// be requested separately.)\n\n\t\t\t\t\tvar sessionInit = { optionalFeatures: [ 'local-floor', 'bounded-floor' ] };\n\t\t\t\t\tnavigator.xr.requestSession( 'immersive-vr', sessionInit ).then( onSessionStarted );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcurrentSession.end();\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t\tfunction disableButton() {\n\n\t\t\tbutton.style.display = '';\n\n\t\t\tbutton.style.cursor = 'auto';\n\t\t\tbutton.style.left = 'calc(50% - 75px)';\n\t\t\tbutton.style.width = '150px';\n\n\t\t\tbutton.onmouseenter = null;\n\t\t\tbutton.onmouseleave = null;\n\n\t\t\tbutton.onclick = null;\n\n\t\t}\n\n\t\tfunction showVRNotFound() {\n\n\t\t\tdisableButton();\n\n\t\t\tbutton.textContent = 'VR NOT FOUND';\n\n\t\t\trenderer.vr.setDevice( null );\n\n\t\t}\n\n\t\tfunction showXRNotFound() {\n\n\t\t\tdisableButton();\n\n\t\t\tbutton.textContent = 'VR NOT FOUND';\n\n\t\t}\n\n\t\tfunction stylizeElement( element ) {\n\n\t\t\telement.style.position = 'absolute';\n\t\t\telement.style.bottom = '20px';\n\t\t\telement.style.padding = '12px 6px';\n\t\t\telement.style.border = '1px solid #fff';\n\t\t\telement.style.borderRadius = '4px';\n\t\t\telement.style.background = 'rgba(0,0,0,0.1)';\n\t\t\telement.style.color = '#fff';\n\t\t\telement.style.font = 'normal 13px sans-serif';\n\t\t\telement.style.textAlign = 'center';\n\t\t\telement.style.opacity = '0.5';\n\t\t\telement.style.outline = 'none';\n\t\t\telement.style.zIndex = '999';\n\n\t\t}\n\n\t\tif ( 'xr' in navigator ) {\n\n\t\t\tvar button = document.createElement( 'button' );\n\t\t\tbutton.style.display = 'none';\n\n\t\t\tstylizeElement( button );\n\n\t\t\tnavigator.xr.isSessionSupported( 'immersive-vr' ).then( function ( supported ) {\n\n\t\t\t\tif ( supported ) {\n\n\t\t\t\t\tshowEnterXR();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tshowXRNotFound();\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn button;\n\n\t\t} else if ( 'getVRDisplays' in navigator ) {\n\n\t\t\tvar button = document.createElement( 'button' );\n\t\t\tbutton.style.display = 'none';\n\n\t\t\tstylizeElement( button );\n\n\t\t\twindow.addEventListener( 'vrdisplayconnect', function ( event ) {\n\n\t\t\t\tshowEnterVR( event.display );\n\n\t\t\t}, false );\n\n\t\t\twindow.addEventListener( 'vrdisplaydisconnect', function ( /*event*/ ) {\n\n\t\t\t\tshowVRNotFound();\n\n\t\t\t}, false );\n\n\t\t\twindow.addEventListener( 'vrdisplaypresentchange', function ( event ) {\n\n\t\t\t\tbutton.textContent = event.display.isPresenting ? 'EXIT_VR' : 'ENTER_VR';\n\n\t\t\t}, false );\n\n\t\t\twindow.addEventListener( 'vrdisplayactivate', function ( event ) {\n\n\t\t\t\tevent.display.requestPresent( [ { source: renderer.domElement } ] );\n\n\t\t\t}, false );\n\n\t\t\tnavigator.getVRDisplays()\n\t\t\t\t.then( function ( displays ) {\n\n\t\t\t\t\tif ( displays.length > 0 ) {\n\n\t\t\t\t\t\tshowEnterVR( displays[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshowVRNotFound();\n\n\t\t\t\t\t}\n\n\t\t\t\t} ).catch( showVRNotFound );\n\n\t\t\treturn button;\n\n\t\t} else {\n\n\t\t\tvar message = document.createElement( 'a' );\n\t\t\tmessage.href = 'https://immersive-web.github.io/webxr/';\n\t\t\tmessage.innerHTML = 'WEBXR NOT SUPPORTED';\n\n\t\t\tmessage.style.left = 'calc(50% - 90px)';\n\t\t\tmessage.style.width = '180px';\n\t\t\tmessage.style.textDecoration = 'none';\n\n\t\t\tstylizeElement( message );\n\n\t\t\treturn message;\n\n\t\t}\n\n\t}\n\n};\n\nexport { VRButton };\n"],
  "mappings": "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",
  "names": []
}
